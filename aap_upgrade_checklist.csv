step_id,category,step,owner,required,status,start_time,end_time,notes
1,Planning,Create inventory of all AAP components (controllers, execution nodes, DB hosts, EDA, Automation Hub, mesh),owner_team,Yes,NotStarted,,,"List FQDNs/IPs, roles, versions, OCP namespaces"
2,Planning,Identify deployment mode per host (RPM|containerized|operator),owner_team,Yes,NotStarted,,,"Map host->deployment_type"
3,Planning,Confirm subscriptions & repo access (RHEL + AAP 2.6),platform_ops,Yes,NotStarted,,,"Subscription-manager status, internal mirror details"
4,Planning,Schedule maintenance windows & approvals,change_manager,Yes,NotStarted,,,"Include DB window and stakeholders (security, DBAs)"
5,Pre-upgrade,Run staging upgrade using production backup clone,test_team,Yes,NotStarted,,,"Must pass smoke & load tests"
6,Pre-upgrade,Verify supported OS versions and kernel on hosts (RHEL minor versions),platform_ops,Yes,NotStarted,,,"Record kernel and OS patch level"
7,Pre-upgrade,Check Postgres version, location, replication, and WAL settings,db_admins,Yes,NotStarted,,,"Record primary/standby, pg_version"
8,Pre-upgrade,Take full Postgres logical dump(s) and test restore,db_admins,Yes,NotStarted,,,"pg_dump / pg_dumpall + test restore in staging"
9,Pre-upgrade,Perform filesystem snapshots of PVs or LVM (if available),storage_ops,Yes,NotStarted,,,"LVM/ZFS snapshots"
10,Pre-upgrade,Backup Automation files (/etc/ansible, /var/lib/awx, certs, /etc/pki),platform_ops,Yes,NotStarted,,,"Tar/gzip and store on backup server"
11,Pre-upgrade,Mirror/pull required container images (all current and 2.6 images) to internal registry,registry_ops,Yes,NotStarted,,,"List of image names & tags"
12,Pre-upgrade,Export controller configuration & RBAC artefacts (job templates, workflows, inventories, credentials metadata),platform_ops,Yes,NotStarted,,,"Use awx-manage or API export procedures"
13,Pre-upgrade,Detect custom plugins and collections on controllers and execution nodes,platform_ops,Yes,NotStarted,,,"Search common plugin paths and project directories"
14,Pre-upgrade,Validate SSO/LDAP/OIDC settings & test logins for critical users,identity_ops,Yes,NotStarted,,,"Ensure users created under 2.4 logged into 2.5 if applicable"
15,Pre-upgrade,Check Event-Driven Ansible (EDA) presence and version,platform_ops,Yes,NotStarted,,,"If EDA 2.4 present, plan EDA DB removal before 2.6 upgrade"
16,Pre-upgrade,Verify network connectivity to repos and registries from all hosts (HTTP proxy, firewall rules),network_ops,Yes,NotStarted,,,"Open required ports and verify proxies"
17,Pre-upgrade,Capture monitoring & performance baselines (job times, CPU/Memory),monitoring,Yes,NotStarted,,,"Record metrics for comparison after upgrade"
18,Pre-upgrade,Prepare rollback procedure and ensure the ability to restore backups,change_manager,Yes,NotStarted,,,"Document tested DB restore and image redeploy steps"
19,RPM Upgrade,Quiesce workloads and suspend scheduled jobs,app_owners,Yes,NotStarted,,,"Disable schedules and pause workflows"
20,RPM Upgrade,On each controller: enable 2.6 repos (mirror or CDN) and verify,platform_ops,Yes,NotStarted,,,"subscription-manager or repo file check"
21,RPM Upgrade,On each controller: update base packages (dnf update) and then run dnf upgrade ansible-automation-platform\*,platform_ops,Yes,NotStarted,,,"Capture upgrade logs"
22,RPM Upgrade,Monitor DB migration progress and verify completion,db_admins,Yes,NotStarted,,,"Watch DB logs for long-running migrations"
23,RPM Upgrade,Restart services and perform smoke tests (UI login, run test job),platform_ops,Yes,NotStarted,,,"Record smoke test results"
24,Container Upgrade,Pull 2.6 images to nodes or internal registry and update manifests,registry_ops,Yes,NotStarted,,,"Update env files and image tags"
25,Container Upgrade,Drain node (if multi-node) and replace containers with 2.6 images preserving PVs,platform_ops,Yes,NotStarted,,,"Monitor migration logs"
26,Container Upgrade,Monitor DB migrations; validate EDA behavior if present,db_admins,Yes,NotStarted,,,"EDA 2.4 special handling if present"
27,Operator (info),Upgrade operator channel via OLM and update CR if required,platform_ops,Optional,NotStarted,,,"Operator actions may require manual CR edits"
28,Post-upgrade,Run full smoke & integration tests (SCM pulls, cloud modules, secrets manager),qa_team,Yes,NotStarted,,,"Test all external integrations"
29,Post-upgrade,Compare performance baselines and verify no regressions,monitoring,Yes,NotStarted,,,"Job runtimes, CPU, memory"
30,Post-upgrade,Re-enable scheduled jobs and workflows,app_owners,Yes,NotStarted,,,"Confirm expected automation runs"
31,Post-upgrade,Collect final logs and attach to change ticket,platform_ops,Yes,NotStarted,,,"Controller logs, DB logs, upgrade logs"
32,Rollback,If failure: stop changes, restore DB from pre-upgrade dump, redeploy previous packages/images,platform_ops,Yes,NotStarted,,,"Follow documented rollback scripts"
33,Compliance,Store backups and audit trails in compliance repository,compliance,Yes,NotStarted,,,"Ensure retention policy is met"
